"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.response = exports.request = void 0;
const utils_1 = require("@aws-appsync/utils");
const helpers_1 = require("../../lib/helpers");
function request(ctx) {
    const item = (0, helpers_1.createItem)(ctx.args.input);
    const id = utils_1.util.autoId();
    return {
        operation: 'PutItem',
        key: utils_1.util.dynamodb.toMapValues({
            PK: "USER",
            SK: `USER#${id}`
        }),
        attributeValues: utils_1.util.dynamodb.toMapValues({
            id: id,
            ENTITY: "USER",
            ...item,
        }),
    };
}
exports.request = request;
function response(ctx) {
    return ctx.result;
}
exports.response = response;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlVXNlckFjY291bnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjcmVhdGVVc2VyQWNjb3VudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBMkU7QUFDM0UsK0NBQStDO0FBRy9DLFNBQWdCLE9BQU8sQ0FDckIsR0FBMkM7SUFFM0MsTUFBTSxJQUFJLEdBQUcsSUFBQSxvQkFBVSxFQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBTSxDQUFDLENBQUM7SUFDekMsTUFBTSxFQUFFLEdBQUcsWUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFBO0lBRXhCLE9BQU87UUFDTCxTQUFTLEVBQUUsU0FBUztRQUNwQixHQUFHLEVBQUUsWUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUM7WUFDN0IsRUFBRSxFQUFFLE1BQU07WUFDVixFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUU7U0FDakIsQ0FBQztRQUNGLGVBQWUsRUFBRSxZQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQztZQUN6QyxFQUFFLEVBQUUsRUFBRTtZQUNOLE1BQU0sRUFBRSxNQUFNO1lBQ2QsR0FBRyxJQUFJO1NBQ1IsQ0FBQztLQUNILENBQUM7QUFDSixDQUFDO0FBbEJELDBCQWtCQztBQUVELFNBQWdCLFFBQVEsQ0FDdEIsR0FBeUU7SUFFekUsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDO0FBQ3BCLENBQUM7QUFKRCw0QkFJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRleHQsIER5bmFtb0RCUHV0SXRlbVJlcXVlc3QsIHV0aWwgfSBmcm9tICdAYXdzLWFwcHN5bmMvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlSXRlbSB9IGZyb20gJy4uLy4uL2xpYi9oZWxwZXJzJztcbmltcG9ydCB7IE11dGF0aW9uQ3JlYXRlVXNlckFjY291bnRBcmdzLCBVc2VyIH0gZnJvbSAnLi4vLi4vdHlwZXMvYXBwc3luYyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KFxuICBjdHg6IENvbnRleHQ8TXV0YXRpb25DcmVhdGVVc2VyQWNjb3VudEFyZ3M+LFxuKTogRHluYW1vREJQdXRJdGVtUmVxdWVzdCB7XG4gIGNvbnN0IGl0ZW0gPSBjcmVhdGVJdGVtKGN0eC5hcmdzLmlucHV0ISk7XG4gIGNvbnN0IGlkID0gdXRpbC5hdXRvSWQoKVxuXG4gIHJldHVybiB7XG4gICAgb3BlcmF0aW9uOiAnUHV0SXRlbScsXG4gICAga2V5OiB1dGlsLmR5bmFtb2RiLnRvTWFwVmFsdWVzKHtcbiAgICAgIFBLOiBcIlVTRVJcIixcbiAgICAgIFNLOiBgVVNFUiMke2lkfWBcbiAgICB9KSxcbiAgICBhdHRyaWJ1dGVWYWx1ZXM6IHV0aWwuZHluYW1vZGIudG9NYXBWYWx1ZXMoe1xuICAgICAgaWQ6IGlkLFxuICAgICAgRU5USVRZOiBcIlVTRVJcIixcbiAgICAgIC4uLml0ZW0sXG4gICAgfSksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNwb25zZShcbiAgY3R4OiBDb250ZXh0PE11dGF0aW9uQ3JlYXRlVXNlckFjY291bnRBcmdzLCBvYmplY3QsIG9iamVjdCwgb2JqZWN0LCBVc2VyPixcbikge1xuICByZXR1cm4gY3R4LnJlc3VsdDtcbn0iXX0=