"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.response = exports.request = void 0;
function request(ctx) {
    // add timestamps
    const item = ctx.args;
    const pk = `BUILDING#${item.buildingId}`;
    const sk = `APARTMENT#`;
    return {
        operation: "Query",
        query: {
            expression: "PK = :pk and begins_with(SK, :sk)",
            expressionValues: util.dynamodb.toMapValues({ ":pk": pk, ":sk": sk }),
        },
    };
}
exports.request = request;
function response(ctx) {
    return ctx.result;
}
exports.response = response;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0QWxsQXBhcnRtZW50c1BlckJ1aWxkaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZ2V0QWxsQXBhcnRtZW50c1BlckJ1aWxkaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQU1BLFNBQWdCLE9BQU8sQ0FDckIsR0FBa0Q7SUFFbEQsaUJBQWlCO0lBQ2pCLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7SUFDdEIsTUFBTSxFQUFFLEdBQUcsWUFBWSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDekMsTUFBTSxFQUFFLEdBQUcsWUFBWSxDQUFDO0lBRXhCLE9BQU87UUFDTCxTQUFTLEVBQUUsT0FBTztRQUNsQixLQUFLLEVBQUU7WUFDTCxVQUFVLEVBQUUsbUNBQW1DO1lBQy9DLGdCQUFnQixFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUM7U0FDdEU7S0FDRixDQUFDO0FBQ0osQ0FBQztBQWZELDBCQWVDO0FBRUQsU0FBZ0IsUUFBUSxDQUN0QixHQU1DO0lBRUQsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDO0FBQ3BCLENBQUM7QUFWRCw0QkFVQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRleHQsIER5bmFtb0RCUXVlcnlSZXF1ZXN0IH0gZnJvbSBcIkBhd3MtYXBwc3luYy91dGlsc1wiO1xuaW1wb3J0IHtcbiAgUXVlcnlHZXRBbGxBcGFydG1lbnRzUGVyQnVpbGRpbmdBcmdzLFxuICBBcGFydG1lbnQsXG59IGZyb20gXCIuLi8uLi90eXBlcy9hcHBzeW5jXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KFxuICBjdHg6IENvbnRleHQ8UXVlcnlHZXRBbGxBcGFydG1lbnRzUGVyQnVpbGRpbmdBcmdzPlxuKTogRHluYW1vREJRdWVyeVJlcXVlc3Qge1xuICAvLyBhZGQgdGltZXN0YW1wc1xuICBjb25zdCBpdGVtID0gY3R4LmFyZ3M7XG4gIGNvbnN0IHBrID0gYEJVSUxESU5HIyR7aXRlbS5idWlsZGluZ0lkfWA7XG4gIGNvbnN0IHNrID0gYEFQQVJUTUVOVCNgO1xuXG4gIHJldHVybiB7XG4gICAgb3BlcmF0aW9uOiBcIlF1ZXJ5XCIsXG4gICAgcXVlcnk6IHtcbiAgICAgIGV4cHJlc3Npb246IFwiUEsgPSA6cGsgYW5kIGJlZ2luc193aXRoKFNLLCA6c2spXCIsXG4gICAgICBleHByZXNzaW9uVmFsdWVzOiB1dGlsLmR5bmFtb2RiLnRvTWFwVmFsdWVzKHsgXCI6cGtcIjogcGssIFwiOnNrXCI6IHNrIH0pLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNwb25zZShcbiAgY3R4OiBDb250ZXh0PFxuICAgIFF1ZXJ5R2V0QWxsQXBhcnRtZW50c1BlckJ1aWxkaW5nQXJncyxcbiAgICBvYmplY3QsXG4gICAgb2JqZWN0LFxuICAgIG9iamVjdCxcbiAgICBBcGFydG1lbnRcbiAgPlxuKSB7XG4gIHJldHVybiBjdHgucmVzdWx0O1xufVxuIl19